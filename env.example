# ==============================================
# n8n Railway Deployment - Environment Variables
# ==============================================
# Copy this file and configure the values according to your Railway deployment
# DO NOT commit the actual .env file with real credentials

# ----------------------------------------------
# n8n Host Configuration
# ----------------------------------------------
# The external URL where n8n will be accessible
# Replace with your Railway-provided domain (e.g., n8n-production.up.railway.app)
N8N_HOST=your-app-name.up.railway.app

# Protocol (use https in production)
N8N_PROTOCOL=https

# Port n8n listens on (Railway will map this internally)
N8N_PORT=5678

# ----------------------------------------------
# PostgreSQL Database Configuration
# ----------------------------------------------
# Railway provides these automatically when you attach a PostgreSQL service
# You can reference them directly in Railway's environment variables tab

# Database type (always postgres for Railway)
DB_TYPE=postgresdb

# Connection parameters - map Railway's PG variables to n8n format
# In Railway, use: ${PGHOST}, ${PGPORT}, ${PGDATABASE}, ${PGUSER}, ${PGPASSWORD}
DB_POSTGRESDB_HOST=${PGHOST}
DB_POSTGRESDB_PORT=${PGPORT}
DB_POSTGRESDB_DATABASE=${PGDATABASE}
DB_POSTGRESDB_USER=${PGUSER}
DB_POSTGRESDB_PASSWORD=${PGPASSWORD}

# Optional: Use DATABASE_URL instead (Railway provides this automatically)
# If using DATABASE_URL, you don't need the individual DB_POSTGRESDB_* variables above
# DB_POSTGRESDB_URL=${DATABASE_URL}

# ----------------------------------------------
# Security & Authentication
# ----------------------------------------------
# Encryption key for credentials stored in database (REQUIRED for production)
# Generate a random key: openssl rand -hex 32
N8N_ENCRYPTION_KEY=your-encryption-key-here-change-this

# Basic authentication (recommended for initial setup)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change-this-password

# ----------------------------------------------
# Webhook Configuration
# ----------------------------------------------
# URL for webhooks (should match N8N_HOST with protocol)
WEBHOOK_URL=https://your-app-name.up.railway.app

# ----------------------------------------------
# Optional: Execution Configuration
# ----------------------------------------------
# Execution mode: regular or queue (queue requires Redis)
# EXECUTIONS_MODE=regular

# Execution timeout in seconds
# EXECUTIONS_TIMEOUT=300

# Maximum execution timeout
# EXECUTIONS_TIMEOUT_MAX=3600

# ----------------------------------------------
# Optional: Timezone
# ----------------------------------------------
# Set timezone for scheduled workflows
# GENERIC_TIMEZONE=Europe/Copenhagen

# ----------------------------------------------
# Optional: Logging
# ----------------------------------------------
# Log level: info, warn, error, verbose, debug
# N8N_LOG_LEVEL=info

# Log output format
# N8N_LOG_OUTPUT=console

# ----------------------------------------------
# Optional: Email Configuration (SMTP)
# ----------------------------------------------
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=587
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com

# ----------------------------------------------
# Data Persistence
# ----------------------------------------------
# n8n stores data in /home/node/.n8n
# Mount a Railway volume to this path for persistence
# This is configured in Railway's volume settings, not here
